---
title: Building a Data-Driven World (#2)
---

## Difficulty
&#9733;&#9733;&#9733;&#9734;&#9734;

## Useful prior knowledge
- Basic understanding of SQL syntax and database structures
- Experience with Docker and setting up databases

## Pre-requisties
- Completion of challenge #4 'DB noob in Drift'
- Knowledge of database normalization and relationships

## Purpose
Relational databases are the backbone of most modern applications, from social media platforms to e-commerce sites. Understanding how to design efficient, normalized schemas and perform advanced queries is crucial for optimizing data storage and retrieval. This challenge will solidify your ability to handle real-world data and interact with it in meaningful ways, preparing you for more complex database systems and large-scale applications.

At the end of this challenge, you should:

- Be able to design and implement a normalized database schema.
- Write SQL queries to interact with complex data relationships.
- Understand how to optimize database queries for performance.

## Objective
1. Connect to your dockerized db
2. Create a new database schema with at least three related tables (e.g., users, orders, products).
3. Define relationships using primary and foreign keys.
4. Write queries to:
    - Retrieve all orders placed by a specific user.
    - Show the total number of products in each order.
    - Calculate the total revenue generated by each user.


## Bonus Challenge
- Implement an indexing strategy to optimize query performance on large datasets.
- Write a query to return the top 5 users who have placed the most orders.

## Useful Resources
- [What is database index?](https://en.wikipedia.org/wiki/Database_index)
- [Postgresql indexes](https://www.postgresql.org/docs/current/indexes.html)
- [SQL cheat sheet](https://www.sqltutorial.org/sql-cheat-sheet/)

### Author(s)
- Mads Nylund