---
title: Pythonic Data Mastery (#3)
---

## Difficulty
&#9733;&#9733;&#9733;&#9733;&#9734;

## Useful prior knowledge
- Proficiency with Python
- Basic understanding of SQL and database relationships
- Familiarity with Docker and setting up databases

## Pre-requisties
- Completion of challenge #5 'Building a Data-Driven World'
- Experience writing SQL queries manually
- Knowledge of Python classes and functions

## Purpose
As you move into more complex applications, direct SQL queries can become cumbersome. Thatâ€™s where an ORM (Object-Relational Mapper) comes in, abstracting SQL interactions into Python classes and methods. This allows for cleaner, more maintainable code and makes switching between different database systems easier. This challenge will teach you to use an ORM (specifically SQLAlchemy) to interact with a database, allowing you to focus more on the application logic rather than raw SQL syntax.

At the end of this challenge, you should:

- Understand the basics of how an ORM works in Python.
- Be able to design models that represent database tables.
- Use an ORM to perform basic CRUD operations (Create, Read, Update, Delete) in a Python script.
- Write efficient queries using Pythonic syntax rather than raw SQL.

## Objective
1. Set up a Docker container with a PostgreSQL database.
2. Create a Python script that uses SQLAlchemy as the ORM.
3. In your script, define models for three related tables (e.g., User, Product, Order).
4. Use the ORM to:
    - Add at least 5 users, 10 products, and several orders (with relationships).
    - Query the database to retrieve all orders placed by a specific user.
    - Update a user's information (e.g., change their email address).
    - Delete an order from the database.


## Bonus Challenge
- Implement a many-to-many relationship between User and Product through an Order table.
- Write a function that finds the user who has placed the highest number of orders.
- Create an efficient query using ORM filtering to calculate total revenue generated by each user.

## Useful Resources
- [What is an ORM?](https://www.freecodecamp.org/news/what-is-an-orm-the-meaning-of-object-relational-mapping-database-tools/)
- [What is CRUD?](https://www.codecademy.com/article/what-is-crud)
- [SQLAlchemy](https://www.sqlalchemy.org/)

### Author(s)
- Mads Nylund